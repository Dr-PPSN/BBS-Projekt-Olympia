<!-- material-table.component.html -->
<table mat-table [dataSource]="matTableDataSource" class="mat-elevation-z8" matSort matPaginator>
  <ng-container *ngFor="let columnLabel of mappedColumns">
    <ng-container matColumnDef="{{ columnLabel }}">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        {{ getColumnDefinition(columnLabel)?.label }}
      </th>
      <td mat-cell *matCellDef="let element" (dblclick)="handleCellDoubleClick(element, columnLabel)">
        <div *ngIf="isEditing(element, columnLabel)">
          <input matInput [ngModel]="element[columnLabel]" (ngModelChange)="onInputChange($event, element, columnLabel)" (keyup.enter)="saveChanges(element)" (focusout)="handleCellBlur($event, element, columnLabel)" />
       
        </div>
        <div *ngIf="!isEditing(element, columnLabel)" (dblclick)="handleCellDoubleClick(element, columnLabel)">
          {{ getColumnValue(element, getColumnDefinition(columnLabel)?.name || '') }}
        </div>
      </td>
      
      
      
      
      
      
    </ng-container>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="mappedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: mappedColumns;"></tr>
</table>
